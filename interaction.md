# 古籍OCR + 竖排转横排 交互设计

## 核心交互流程

### 1. 文件上传区域
- **拖拽上传**：用户可将PDF文件、图片文件或zip压缩包拖拽到上传区域
- **点击上传**：点击上传区域打开文件选择器
- **文件类型支持**：PDF、JPG、JPEG、PNG、GIF、ZIP
- **文件大小限制**：单文件最大50MB
- **多文件处理**：支持多文件同时上传，每个文件分配独立task_id

### 2. 上传进度显示
- **进度条**：实时显示文件上传进度（0-100%）
- **状态提示**：上传中、处理中、完成、失败
- **取消按钮**：可取消正在进行的任务

### 3. 原图预览区域
- **缩略图列表**：显示上传的PDF页面或图片缩略图
- **大图预览**：点击缩略图可查看原图
- **分页导航**：支持翻页查看

### 4. OCR处理进度
- **实时进度**：显示OCR识别进度（0-100%）
- **处理步骤**：
  - 文件上传完成
  - PDF拆页中...
  - 竖排OCR识别中...
  - 文字排序中...
  - 横排转换中...
  - 生成文档中...

### 5. 结果预览区域
- **文本预览**：在线预览转换后的横排文本
- **格式化显示**：保留段落结构，清晰易读
- **编辑功能**：可在线编辑识别结果

### 6. 下载功能
- **打包下载**：生成包含以下文件的zip压缩包：
  - single_page_hengpai.txt（每页一个文件）
  - full_book.txt（整本合并）
  - full_book.docx（Word文档，含段落格式）
- **单独下载**：可选择下载单个文件
- **下载统计**：显示下载次数

### 7. 任务管理
- **任务列表**：显示所有上传的任务
- **任务状态**：等待中、处理中、完成、失败
- **任务历史**：保留最近7天的任务记录
- **重新处理**：可对失败的任务重新处理

## 用户操作流程

1. **访问网站**：用户打开古籍OCR网站
2. **上传文件**：拖拽或选择PDF/图片文件
3. **等待处理**：查看上传和OCR处理进度
4. **预览结果**：在线查看识别和转换效果
5. **下载文件**：下载处理好的横排文档
6. **后续处理**：可继续上传新文件或查看历史任务

## 错误处理

- **文件格式错误**：提示支持的文件格式
- **文件过大**：提示文件大小限制
- **OCR失败**：显示具体错误信息，可重试
- **网络错误**：自动重试3次，失败后提示用户

## 响应式设计

- **桌面端**：左右分栏布局，左侧上传/预览，右侧结果显示
- **移动端**：上下布局，单栏显示，支持触摸操作
- **平板端**：自适应布局，保持良好的用户体验